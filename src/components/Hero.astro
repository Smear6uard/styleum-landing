---
const outfitCards = [
  {
    label: 'Casual',
    score: 94,
    weather: '72째 Sunny',
    colors: ['#E8E4DE', '#4A5568', '#2D3748', '#8B7355'],
    rotation: -8,
    translateX: -60,
  },
  {
    label: 'Work',
    score: 91,
    weather: '68째 Clear',
    colors: ['#FFFFFF', '#1A202C', '#4A5568', '#2D3748'],
    rotation: -3,
    translateX: -20,
  },
  {
    label: 'Date',
    score: 89,
    weather: '65째 Evening',
    colors: ['#1A202C', '#2D3748', '#4A5568', '#1A202C'],
    rotation: 3,
    translateX: 20,
  },
  {
    label: 'Weekend',
    score: 87,
    weather: '70째 Mild',
    colors: ['#F7F5F3', '#6B7280', '#9CA3AF', '#D4C5B9'],
    rotation: 8,
    translateX: 60,
  },
];

const dealDelays = [0.7, 0.85, 1, 1.15];
---

<section id="hero" class="hero relative z-10 min-h-screen bg-dark flex flex-col justify-center items-center px-6 pt-24 pb-32 overflow-hidden">
  <!-- Subtle gradient background -->
  <div
    class="absolute inset-0 opacity-30 pointer-events-none"
    style="background: radial-gradient(ellipse at 50% 0%, rgba(111, 124, 134, 0.15) 0%, transparent 60%);"
  ></div>

  <!-- Ambient glow -->
  <div class="absolute top-1/3 left-1/2 -translate-x-1/2 w-[600px] h-[400px] bg-slate opacity-10 blur-[120px] rounded-full pointer-events-none"></div>

  <!-- Content -->
  <div class="relative z-10 text-center max-w-4xl mx-auto">
    <!-- Kicker -->
    <p class="kicker mb-4">
      Your daily outfit ritual
    </p>

    <!-- Greeting (time-aware) -->
    <p id="hero-greeting" class="text-2xl md:text-3xl text-slate-light font-medium mb-2 font-body">
      Good morning.
    </p>

    <!-- Headline (time-aware) -->
    <h1 id="hero-headline" class="font-display text-[3.5rem] md:text-[5.5rem] lg:text-[7rem] tracking-[-0.03em] leading-[0.95] text-white">
      Your 9AM outfit is ready.
    </h1>

    <!-- Subtext (time-aware) -->
    <p id="hero-subtext" class="text-lg md:text-xl text-slate-light max-w-md mx-auto mt-6 mb-12 font-body">
      4 looks waiting. Zero decisions required.
    </p>

    <!-- CTAs -->
    <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
      <a
        id="hero-cta"
        href="#download"
        class="flex items-center gap-2 px-6 py-3.5 bg-slate-dark text-white font-semibold rounded-full hover:bg-[#4a545c] transition transform hover:scale-105"
      >
        <span class="text-slate-light text-xs font-bold">9AM</span>
        <span>See your outfits</span>
      </a>
      <a
        href="#how-it-works"
        class="text-slate-light hover:text-white transition flex items-center gap-2 font-medium"
      >
        How it works <span>&rarr;</span>
      </a>
    </div>
  </div>

  <!-- Outfit Cards - Deal Animation -->
  <div class="relative z-10 mt-16 w-full max-w-lg mx-auto h-[280px] md:h-[320px]">
    <div class="relative w-full h-full flex items-center justify-center">
      {outfitCards.map((card, i) => (
        <div
          class="deal-card absolute w-[140px] md:w-[160px] bg-white rounded-2xl shadow-xl p-4"
          style={`
            --rotation: ${card.rotation}deg;
            --translate-x: ${card.translateX}px;
            --deal-delay: ${dealDelays[i]}s;
            z-index: ${10 + i};
          `}
        >
          <!-- Card Header -->
          <div class="flex items-center justify-between mb-3">
            <span class="text-[10px] font-semibold uppercase tracking-wider text-gray-500">
              {card.label}
            </span>
            <span class="bg-slate-dark text-white text-[10px] font-bold px-2 py-0.5 rounded-full">
              {card.score}
            </span>
          </div>

          <!-- Color Grid (abstract outfit representation) -->
          <div class="grid grid-cols-2 gap-2 mb-3">
            {card.colors.map((color) => (
              <div
                class="aspect-square rounded-lg"
                style={`background-color: ${color};`}
              ></div>
            ))}
          </div>

          <!-- Weather -->
          <div class="text-[11px] text-gray-400 text-center">
            {card.weather}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  // Time-aware hero content
  function getTimeAwareContent() {
    const hours = new Date().getHours();

    if (hours >= 5 && hours < 12) {
      return {
        greeting: "Good morning.",
        headline: "Your 9AM outfit is ready.",
        subtext: "4 looks waiting. Zero decisions required.",
        cta: "See your outfits"
      };
    } else if (hours >= 12 && hours < 17) {
      return {
        greeting: "Good afternoon.",
        headline: "Tonight's look, sorted.",
        subtext: "Going out later? We've got options.",
        cta: "Style tonight's look"
      };
    } else {
      return {
        greeting: "Planning tomorrow?",
        headline: "Tomorrow at 9AM. 4 outfits. Zero decisions.",
        subtext: "Wake up styled. Finally.",
        cta: "Get tomorrow's outfit"
      };
    }
  }

  // Apply time-aware content on load
  document.addEventListener('DOMContentLoaded', () => {
    const content = getTimeAwareContent();
    const greetingEl = document.getElementById('hero-greeting');
    const headlineEl = document.getElementById('hero-headline');
    const subtextEl = document.getElementById('hero-subtext');
    const ctaEl = document.getElementById('hero-cta');

    if (greetingEl) greetingEl.textContent = content.greeting;
    if (headlineEl) headlineEl.textContent = content.headline;
    if (subtextEl) subtextEl.textContent = content.subtext;
    if (ctaEl) {
      const ctaText = ctaEl.querySelector('span:last-child');
      if (ctaText) ctaText.textContent = content.cta;
    }
  });
</script>
